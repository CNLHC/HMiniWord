\section{H\+Document\+Model类 参考}
\label{class_h_document_model}\index{H\+Document\+Model@{H\+Document\+Model}}


类 H\+Document\+Model 继承关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=175pt]{class_h_document_model__inherit__graph}
\end{center}
\end{figure}


H\+Document\+Model 的协作图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=175pt]{class_h_document_model__coll__graph}
\end{center}
\end{figure}
\subsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
enum {\bf Model\+Status} \{ {\bfseries H\+L\+L\+No\+Change}, 
{\bfseries H\+L\+L\+Updated}, 
{\bfseries H\+L\+L\+Created}, 
{\bfseries H\+L\+L\+Deleted}
 \}\label{class_h_document_model_a225db78eec58aaaeb20421332287588c}
\begin{DoxyCompactList}\small\item\em Model层状态枚举类型 \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{信号}
\begin{DoxyCompactItemize}
\item 
void {\bfseries model\+Changed} ()\label{class_h_document_model_abf501351e0a321861ccb4c2b20f4df24}

\end{DoxyCompactItemize}
\subsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
Q\+List$<$ char $\ast$ $>$ \& {\bf create\+Logic\+Line} (Q\+String Line, int pos)
\item 
Q\+List$<$ char $\ast$ $>$ \& {\bf create\+Logic\+Line} (Q\+String Line)
\begin{DoxyCompactList}\small\item\em 重载类型 \end{DoxyCompactList}\item 
Q\+Shared\+Pointer$<$ Q\+String $>$ {\bf compose\+Logic\+Line} (int row) const 
\item 
void {\bf delete\+Logic\+Linek} (int pos)
\begin{DoxyCompactList}\small\item\em 删除逻辑行 \end{DoxyCompactList}\item 
void {\bf ensure\+Status} (int pos, {\bf Model\+Status} type)
\begin{DoxyCompactList}\small\item\em 重置\+Model层状态 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{详细描述}


在文件 hdocumentmodel.\+h 第 10 行定义.



\subsection{成员函数说明}
\index{H\+Document\+Model@{H\+Document\+Model}!compose\+Logic\+Line@{compose\+Logic\+Line}}
\index{compose\+Logic\+Line@{compose\+Logic\+Line}!H\+Document\+Model@{H\+Document\+Model}}
\subsubsection[{compose\+Logic\+Line(int row) const }]{\setlength{\rightskip}{0pt plus 5cm}Q\+Shared\+Pointer$<$ Q\+String $>$ H\+Document\+Model\+::compose\+Logic\+Line (
\begin{DoxyParamCaption}
\item[{int}]{row}
\end{DoxyParamCaption}
) const}\label{class_h_document_model_a9f99da8f5105c71c69acc22811c9c9dd}

\begin{DoxyParams}{参数}
{\em row} & 逻辑行的行数 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
指向\+Q\+String 对象的指针
\end{DoxyReturn}
我将一个逻辑行内的对象复合成一个\+Q\+String类型。如果行数超出了范围,则返回一个空指针。 

在文件 hdocumentmodel.\+cpp 第 42 行定义.

\index{H\+Document\+Model@{H\+Document\+Model}!create\+Logic\+Line@{create\+Logic\+Line}}
\index{create\+Logic\+Line@{create\+Logic\+Line}!H\+Document\+Model@{H\+Document\+Model}}
\subsubsection[{create\+Logic\+Line(\+Q\+String Line, int pos)}]{\setlength{\rightskip}{0pt plus 5cm}Q\+List$<$ char $\ast$ $>$ \& H\+Document\+Model\+::create\+Logic\+Line (
\begin{DoxyParamCaption}
\item[{Q\+String}]{Line, }
\item[{int}]{pos}
\end{DoxyParamCaption}
)}\label{class_h_document_model_aaa2580ec2adcaf6a31f32436afbbcf57}

\begin{DoxyParams}{参数}
{\em Line} & 要添加到该逻辑行的字符串 \\
\hline
{\em pos} & 新逻辑行将作为文档的第pos行。(从0行开始算起) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
指向新插入行的引用类型
\end{DoxyReturn}
添加新逻辑行.\+使用要求的数据结构存储数据。 pos如果大于当前的逻辑行数，新插入的行将作为最后一行。 pos如果为负，新插入的行作为首行。 保持状态同步 

在文件 hdocumentmodel.\+cpp 第 17 行定义.

\index{H\+Document\+Model@{H\+Document\+Model}!create\+Logic\+Line@{create\+Logic\+Line}}
\index{create\+Logic\+Line@{create\+Logic\+Line}!H\+Document\+Model@{H\+Document\+Model}}
\subsubsection[{create\+Logic\+Line(\+Q\+String Line)}]{\setlength{\rightskip}{0pt plus 5cm}Q\+List$<$ char $\ast$ $>$ \& H\+Document\+Model\+::create\+Logic\+Line (
\begin{DoxyParamCaption}
\item[{Q\+String}]{Line}
\end{DoxyParamCaption}
)}\label{class_h_document_model_af4a0fc68a7437bf81873be7bc333ff50}


重载类型 


\begin{DoxyParams}{参数}
{\em Line} & 要添加到该逻辑行的字符串 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
指向新插入行的引用类型
\end{DoxyReturn}
我是为 \doxyref{create\+Logic\+Line(\+Q\+String,int)}{p.}{class_h_document_model_aaa2580ec2adcaf6a31f32436afbbcf57} 的重载类型。使用我直接在最后一行处插入\+Logic Line 

在文件 hdocumentmodel.\+cpp 第 36 行定义.

\index{H\+Document\+Model@{H\+Document\+Model}!delete\+Logic\+Linek@{delete\+Logic\+Linek}}
\index{delete\+Logic\+Linek@{delete\+Logic\+Linek}!H\+Document\+Model@{H\+Document\+Model}}
\subsubsection[{delete\+Logic\+Linek(int pos)}]{\setlength{\rightskip}{0pt plus 5cm}void H\+Document\+Model\+::delete\+Logic\+Linek (
\begin{DoxyParamCaption}
\item[{int}]{pos}
\end{DoxyParamCaption}
)}\label{class_h_document_model_a83cde52b7951fcd8bd604df255f9b5c1}


删除逻辑行 


\begin{DoxyParams}{参数}
{\em pos} & 删除当前第pos行,从0开始计算。\\
\hline
\end{DoxyParams}
pos应当对应一个客观存在的逻辑行位置。 (0 $<$= pos $<$ max\+Line) 如果pos不对应任何行，那么将没有任何东西被删除。 \index{H\+Document\+Model@{H\+Document\+Model}!ensure\+Status@{ensure\+Status}}
\index{ensure\+Status@{ensure\+Status}!H\+Document\+Model@{H\+Document\+Model}}
\subsubsection[{ensure\+Status(int pos, Model\+Status type)}]{\setlength{\rightskip}{0pt plus 5cm}void H\+Document\+Model\+::ensure\+Status (
\begin{DoxyParamCaption}
\item[{int}]{pos, }
\item[{{\bf Model\+Status}}]{type}
\end{DoxyParamCaption}
)}\label{class_h_document_model_aa378af9d79073b1a5f96bc1fb41a0043}


重置\+Model层状态 


\begin{DoxyParams}{参数}
{\em pos} & 需要重置状态的逻辑行数 \\
\hline
{\em type} & 重置状态的类型 参见 \doxyref{Model\+Status}{p.}{class_h_document_model_a225db78eec58aaaeb20421332287588c}.\\
\hline
\end{DoxyParams}
该函数应该由\+Controller层在双缓冲区渲染完毕后调用. 

该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
hdocumentmodel.\+h\item 
hdocumentmodel.\+cpp\end{DoxyCompactItemize}
